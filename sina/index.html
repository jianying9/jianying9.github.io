<!doctype html>
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <meta name="renderer" content="webkit|ie-comp|ie-stand">
        <meta http-equiv="content-type" content="text/html;charset=utf-8">
        <title>jianying9</title>
        <script src="http://192.168.235.114:8080/yy/min/libs/require/require.js"></script>
    </head>
    <body class="global_background">
        <script>
            var staticRootPath = "http://192.168.235.114:8080/yy/libs/";
            var v = new Date().getTime();
//            var v = 47;
            require.config({
                packages: [
                    {
                        name: 'echarts',
                        location: '../libs/echarts/src',
                        main: 'echarts'
                    },
                    {
                        name: 'zrender',
                        location: '../libs/zrender/src', // zrender与echarts在同一级目录
                        main: 'zrender'
                    },
                    {
                        name: 'home',
                        location: './module/home',
                        main: 'home'
                    },
                    {
                        name: 'sina-user',
                        location: './module/sina-user',
                        main: 'sina-user'
                    },
                    {
                        name: 'spider-user',
                        location: './module/spider-user',
                        main: 'spider-user'
                    },
                    {
                        name: 'gender-cube',
                        location: './module/gender-cube',
                        main: 'gender-cube'
                    },
                    {
                        name: 'location-cube',
                        location: './module/location-cube',
                        main: 'location-cube'
                    },
                    {
                        name: 'tag-cube',
                        location: './module/tag-cube',
                        main: 'tag-cube'
                    },
                    {
                        name: 'sina-user-cube',
                        location: './module/sina-user-cube',
                        main: 'sina-user-cube'
                    }
                ],
                paths: {
                    'jquery': staticRootPath + 'jquery',
                    'text': staticRootPath + 'require/text',
                    'crypto': staticRootPath + 'crypto',
                    'yy/yy': staticRootPath + 'yy',
                    'yy/config': staticRootPath + 'yy',
                    'yy/module': staticRootPath + 'yy',
                    'yy/button': staticRootPath + 'yy',
                    'yy/form': staticRootPath + 'yy',
                    'yy/label': staticRootPath + 'yy',
                    'yy/list': staticRootPath + 'yy',
                    'yy/list_item': staticRootPath + 'yy',
                    'yy/panel': staticRootPath + 'yy'
                },
                shim: {
                    'crypto': {
                        exports: 'CryptoJS'
                    }
                },
                urlArgs: 'v=' + v
            });
            require(['yy/yy', 'yy/module'], function(yy, module) {
                yy.init({
                    httpServer: 'http://jianying9:8080/sina-analyze/service.io',
                    webSocketServer: 'ws://jianying9:8080/sina-analyze/service.io',
                    key: '34313032676e6162',
                    websocket: 'on'
                }, function() {
                    //加载css
                    var sinaLink = document.createElement("link");
                    sinaLink.type = "text/css";
                    sinaLink.rel = "stylesheet";
                    sinaLink.href = 'stylesheets/sina.css' + '?v=' + v;
                    document.getElementsByTagName("head")[0].appendChild(sinaLink);
                    //
                    var yyLink = document.createElement("link");
                    yyLink.type = "text/css";
                    yyLink.rel = "stylesheet";
                    yyLink.href = staticRootPath + 'yy/stylesheets/yy.css' + '?v=' + v;
                    document.getElementsByTagName("head")[0].appendChild(yyLink);
                    //加载模块
                    module.loadModule('home');
                });
            });
        </script>
    </body>
</html>